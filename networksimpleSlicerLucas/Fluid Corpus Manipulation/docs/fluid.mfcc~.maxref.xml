<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>
<!--
Part of the Fluid Corpus Manipulation Project (http://www.flucoma.org/)
Copyright 2017-2019 University of Huddersfield.
Licensed under the BSD-3 License.
See license.md file in the project root for full license information.
This project has received funding from the European Research Council (ERC)
under the European Unionâ€™s Horizon 2020 research and innovation programme
(grant agreement No 725899).
-->
<!-- DO NOT EDIT THIS FILE ... YOU WILL LOSE YOUR WORK -->
<c74object name='fluid.mfcc~' category='FluidCorpusManuipulation'>
	<digest>Mel-Frequency Cepstral Coefficients as Spectral Descriptors in Real-Time</digest>
	<description><div class="document">
<p>This class implements a classic spectral descriptor, the Mel-Frequency Cepstral Coefficients (MFCCs)</p>
</div>
</description>
  <discussion>
      <h4><openfilelink filename="Fluid Corpus Manipulation Toolkit.maxpat">Open the Overview Patch</openfilelink></h4>
    <div class="document">
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Mel-frequency_cepstrum">https://en.wikipedia.org/wiki/Mel-frequency_cepstrum</a>. The input is first decomposed in numBands:: perceptually spaced bands, as in the MelBands object. It is then analysed in numCoefs number of cepstral coefficients. It has the avantage to be amplitude invarient, except for the first coefficient.</p>
<p>The process will return a multichannel control steam of maxNumCoeffs, which will be repeated if no change happens within the algorithm, i.e. when the hopSize is larger than the host vector size.</p>
</div>


		fluid.mfcc~ is part of the Fluid Decomposition Toolkit of the FluCoMa project. For more explanations, learning material, and discussions on its musicianly uses, visit <a href="http://www.flucoma.org/">flucoma.org</a>.

  </discussion>
	<!--METADATA-->
	<metadatalist>
		<metadata name='author'>FluCoMa</metadata>
		<metadata name='tag'>Fluid Decomposition</metadata>
		<metadata name='tag'>corpus</metadata>
	</metadatalist>
	<!--ARGUMENTS-->
	<objarglist><objarg name='maxnumcoeffs' optional='1' type='number'>
        <digest>
          Maximum Number of Coefficients
        </digest>
        <description>
          <div class="document">
<p>The maximum number of cepstral coefficients that can be computed. This sets the number of channels of the output, and therefore cannot be modulated.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 2</li><li>Maximum: <m>(maxFFTsize/2) + 1</m>(see <at>maxfftsize</at>)</li></ul>
        </description><attributelist>
          <attribute name="default" get="1" set="1" type="int" size='1' value='40' />
        </attributelist></objarg><objarg name='maxfftsize' optional='1' type='number'>
        <digest>
          Maxiumm FFT Size
        </digest>
        <description>
          <div class="document">
<p>How large can the FFT be, by allocating memory at instantiation time. This cannot be modulated.</p>
</div>

          
        </description><attributelist>
          <attribute name="default" get="1" set="1" type="int" size='1' value='16384' />
        </attributelist></objarg><!-- <objarg name='function' optional='1' type='number'>
			<digest>Initial easing function to use</digest>
			<description>Initial easing function to use. </description>
		</objarg>-->
	</objarglist>
	<!--MESSAGES-->
  <methodlist><method name="reset">
      <arglist />
      <digest>
        Return the object to its original state
      </digest>
      <description>
        Calling <m>reset</m> will change parameter values back to those the object was <i>created</i> with, i.e. any attribute values set in the box will be retained
      </description>
    </method></methodlist>
	<!--ATTRIBUTES-->
	<attributelist><attribute name='fftsettings' get='1' set='1' type='int' size='3'>
        <digest>
          FFT Settings
        </digest>
        <description>
          <div class="document">
<p>FFT settings consist of three numbers representing the window size, hop size and FFT size in samples:</p>
<p>The hop size and fft size can both be set to -1 (and are by default), with slightly different meanings:</p>
<ul class="simple">
<li>For the hop size, -1 = <tt class="docutils literal">windowSize/2</tt></li>
<li>For the FFT size, -1 = <tt class="docutils literal">windowSize</tt> snapped to the nearest equal / greater power of 2 (e.g. <tt class="docutils literal">windowSize 1024</tt> =&gt; <tt class="docutils literal">fftSize 1024</tt>, but <tt class="docutils literal">windowsSize 1000</tt> also =&gt; <tt class="docutils literal">fftSize 1024</tt>)</li>
</ul>
</div>

          <h5>Constraints</h5><ul><li> FFTSize, if != -1, will set to the next greatest power of two &gt; 4</li><li>The maximum manual FFT size is limited to the value of the <at>maxfftsize</at> initialization argument</li><li>if FFT size != -1, then window size is clipped at FFT size</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='3' value='[[&#39;winSize&#39;, 1024], [&#39;hopSize&#39;, -1], [&#39;fftSize&#39;, -1]]' /></attributelist></attribute><attribute name='maxfreq' get='1' set='1' type='float64' size='1'>
        <digest>
          High Frequency Bound
        </digest>
        <description>
          <div class="document">
<p>The highest boundary of the highest band of the model, in Hz.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='20000.0' /></attributelist></attribute><attribute name='minfreq' get='1' set='1' type='float64' size='1'>
        <digest>
          Low Frequency Bound
        </digest>
        <description>
          <div class="document">
<p>The lower boundary of the lowest band of the model, in Hz.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='20.0' /></attributelist></attribute><attribute name='numbands' get='1' set='1' type='int' size='1'>
        <digest>
          Number of Bands
        </digest>
        <description>
          <div class="document">
<p>The number of bands that will be perceptually equally distributed between minFreq and maxFreq to describe the spectral shape before it is converted to cepstral coefficients.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: MAX(<at>numcoeffs</at>,2)</li><li>Maximum: <m>(fftSize/2) + 1</m>(see <at>fftsettings</at>)</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='40' /></attributelist></attribute><attribute name='numcoeffs' get='1' set='1' type='int' size='1'>
        <digest>
          Number of Cepstral Coefficients
        </digest>
        <description>
          <div class="document">
<p>The number of cepstral coefficients to be outputed. It is limited by the maxNumCoefs parameter. When the number is smaller than the maximum, the output is zero-padded.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 2</li><li>Maximum: MIN(<at>numbands</at>,<at>maxnumcoeffs</at>)</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='13' /></attributelist></attribute><attribute name='startcoeff' get='1' set='1' type='int' size='1'>
        <digest>
          Output Coefficient Offset
        </digest>
        <description>
          <div class="document">
<p>The lowest index of the output cepstral coefficient, zero-counting.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li><li>Maximum: 1</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute><attribute name='warnings' get='1' set='1' type='int' size='1'>
        <digest>
          Warnings
        </digest>
        <description>
          <div class="document">
<p>Enable warnings to be issued whenever a parameter value is constrained (e.g. clipped)</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li><li>Maximum: 1</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute></attributelist>
	<!--RELATED-->
	<seealsolist>
    
    <seealso name='fluid.bufmfcc~' />
    <seealso name='fluid.pitch~' />
    <seealso name='fluid.melbands~' />
    <seealso name='fluid.loudness~' />
    <seealso name='fluid.spectralshape~' />
	</seealsolist>
</c74object>