<?xml version='1.0' encoding='utf-8' standalone='yes'?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>
<!--
Part of the Fluid Corpus Manipulation Project (http://www.flucoma.org/)
Copyright 2017-2019 University of Huddersfield.
Licensed under the BSD-3 License.
See license.md file in the project root for full license information.
This project has received funding from the European Research Council (ERC)
under the European Union’s Horizon 2020 research and innovation programme
(grant agreement No 725899).
-->
<!-- DO NOT EDIT THIS FILE ... YOU WILL LOSE YOUR WORK -->
<c74object name='fluid.bufstats~' category='FluidCorpusManuipulation'>
	<digest>Computing Statistics on Buffers as Series.</digest>
	<description><div class="document">
<p>Statistical analysis on buffer channels.</p>
</div>
</description>
  <discussion>
      <h4><openfilelink filename="Fluid Corpus Manipulation Toolkit.maxpat">Open the Overview Patch</openfilelink></h4>
    <div class="document">
<p>Typically, a buffer would hold various time series (i.e. descriptors over time), and BufStats allows this series to be described statistically.</p>
<p>The process returns a buffer where each channel of the source buffer has been reduced to 7 statistics: mean, standard deviation, skewness, kurtosis, followed by 3 percentiles, by default the minimum value, the median, and the maximum value. Moreover, it is possible to request the same 7 stats to be applied to derivative of the input. These are useful to describe statistically the rate of change of the time series. The stats buffer will grow accordingly, yielding the seven same statistical description of the n requested derivatives. Therefore, the stats buffer will have as many channel as the input buffer, and as many frames as 7 times the requested numDerivs (stats of derivatives).</p>
</div>


		fluid.bufstats~ is part of the Fluid Decomposition Toolkit of the FluCoMa project. For more explanations, learning material, and discussions on its musicianly uses, visit <a href="http://www.flucoma.org/">flucoma.org</a>.

  </discussion>
	<!--METADATA-->
	<metadatalist>
		<metadata name='author'>FluCoMa</metadata>
		<metadata name='tag'>Fluid Decomposition</metadata>
		<metadata name='tag'>corpus</metadata>
	</metadatalist>
	<!--ARGUMENTS-->
	<objarglist><!-- <objarg name='function' optional='1' type='number'>
			<digest>Initial easing function to use</digest>
			<description>Initial easing function to use. </description>
		</objarg>-->
	</objarglist>
	<!--MESSAGES-->
  <methodlist><method name="bang">
     <arglist />
     <digest>
       Trigger processing
     </digest>
     <description>
       A bang will commence processing on object given its current settings, unless it is already busy. In that case, the behaviour depends on the value of the <m>queue</m> attribute.
     </description>
   </method>
   <method name="cancel">
     <arglist />
     <digest>
       Cancel non-blocking processing
     </digest>
     <description>
       When processing in non-blocking mode, this will cancel the job underway, without updating destination buffers.
     </description>
   </method><method name="reset">
      <arglist />
      <digest>
        Return the object to its original state
      </digest>
      <description>
        Calling <m>reset</m> will change parameter values back to those the object was <i>created</i> with, i.e. any attribute values set in the box will be retained
      </description>
    </method></methodlist>
	<!--ATTRIBUTES-->
	<attributelist><attribute name='blocking' get='1' set='1' type='int' size='1'>
        <digest>
          Blocking Mode
        </digest>
        <description>
          <div class="document">
<p>Set the threading mode for the object</p>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='1' /><attribute name="enumvals" get="1" set="1" type="atom" size='3'>
            <enumlist><enum name='Non-Blocking'>
                <description>
                  <div class="document">
<p>Processing runs in a worker thread</p>
</div>

                </description>
              </enum><enum name='Blocking (Low Priority)'>
                <description>
                  <div class="document">
<p>Processing runs in the main application thread</p>
</div>

                </description>
              </enum><enum name='Blocking (High Priority)'>
                <description>
                  <div class="document">
<p>(Max only) Processing runs in the scheduler thread</p>
</div>

                </description>
              </enum></enumlist>
          </attribute></attributelist></attribute><attribute name='high' get='1' set='1' type='float64' size='1'>
        <digest>
          High Percentile
        </digest>
        <description>
          <div class="document">
<p>The components requested for the third percentile value. By default, it is percentile 100.0, which is the maximum of the given channel of the source buffer.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: MAX(<at>middle</at>,0)</li><li>Maximum: 100</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='100.0' /></attributelist></attribute><attribute name='low' get='1' set='1' type='float64' size='1'>
        <digest>
          Low Percentile
        </digest>
        <description>
          <div class="document">
<p>The components requested for the first percentile value. By default, it is percentile 0.0, which is the minimum of the given channel of the source buffer.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li><li>Maximum: MIN(<at>middle</at>,100)</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0.0' /></attributelist></attribute><attribute name='middle' get='1' set='1' type='float64' size='1'>
        <digest>
          Middle Percentile
        </digest>
        <description>
          <div class="document">
<p>The components requested for the second percentile value. By default, it is percentile 50.0, which is the median of the given channel of the source buffer.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: MAX(<at>low</at>,0)</li><li>Maximum: MIN(<at>high</at>,100)</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='50.0' /></attributelist></attribute><attribute name='numchans' get='1' set='1' type='int' size='1'>
        <digest>
          Number of Channels
        </digest>
        <description>
          <div class="document">
<p>The number of channels from which to copy in the source buffer. This parameter will wrap around the number of channels in the source buffer. The default (-1) copies all of the buffer's channel.</p>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='-1' /></attributelist></attribute><attribute name='numderivs' get='1' set='1' type='int' size='1'>
        <digest>
          Number of Derivatives
        </digest>
        <description>
          <div class="document">
<p>The number of derivatives of the original time series for the statistic to be computed on. By default, none are computed. This will influence the number of frames the stats buffer will have.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li><li>Maximum: 2</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute><attribute name='numframes' get='1' set='1' type='int' size='1'>
        <digest>
          Number of Frames
        </digest>
        <description>
          <div class="document">
<p>The duration (in samples) to copy from the source buffer. The default (-1) copies the full lenght of the buffer.</p>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='-1' /></attributelist></attribute><attribute name='outlierscutoff' get='1' set='1' type='float64' size='1'>
        <digest>
          Outliers Cutoff
        </digest>
        <description>
          <div class="document">
<p>A ratio of the inter quantile range (IQR) that defines a range outside of which data will be rejected. It is run on each channel independently and a single channel being flagged as outlier removes the whole frame (on all channels). The default (-1) bypasses this function, keeping all frames in the statistical measurements. For more information on this statistical process, please refer to the concept of IQR and how the whiskers of a box plot are computed here (<a class="reference external" href="https://en.wikipedia.org/wiki/Box_plot">https://en.wikipedia.org/wiki/Box_plot</a>)</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: -1</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='-1.0' /></attributelist></attribute><attribute name='queue' get='1' set='1' type='int' size='1'>
        <digest>
          Non-Blocking Queue Flag
        </digest>
        <description>
          <div class="document">
<p>In non-blocking mode enable jobs to be queued up if successive bangs are sent whilst the object is busy. With the queue disabled, successive bangs will produce a warning. When enabled, the object will processing successively, against the state of its parameters when each bang was sent</p>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute><attribute name='source' get='1' set='1' type='symbol' size='1'>
        <digest>
          Source Buffer
        </digest>
        <description>
          <div class="document">
<p>The index of the buffer to use as the source material to be processed. The different channels of multichannel buffers will be considered independently as time series.</p>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='None' /></attributelist></attribute><attribute name='startchan' get='1' set='1' type='int' size='1'>
        <digest>
          Start Channel
        </digest>
        <description>
          <div class="document">
<p>The first channel from which to copy in the source buffer.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute><attribute name='startframe' get='1' set='1' type='int' size='1'>
        <digest>
          Source Offset
        </digest>
        <description>
          <div class="document">
<p>The starting point (in samples) from which to copy in the source buffer.</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute><attribute name='stats' get='1' set='1' type='symbol' size='1'>
        <digest>
          Stats Buffer
        </digest>
        <description>
          <div class="document">
<p>The index of the buffer to write the statistics to. Each channel is the fruit of the statistical computations on the same channel number of the source buffer.</p>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='None' /></attributelist></attribute><attribute name='warnings' get='1' set='1' type='int' size='1'>
        <digest>
          Warnings
        </digest>
        <description>
          <div class="document">
<p>Enable warnings to be issued whenever a parameter value is constrained (e.g. clipped)</p>
</div>

          <h5>Constraints</h5><ul><li>Minimum: 0</li><li>Maximum: 1</li></ul>
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='0' /></attributelist></attribute><attribute name='weights' get='1' set='1' type='symbol' size='1'>
        <digest>
          Weights Buffer
        </digest>
        <description>
          <div class="document">
<dl class="docutils">
<dt>A buffer to provide relative weighting of the source material. Not providing one will not apply weighting and consider all frames equally. The provided buffer has to satisfy all of the following conditions:</dt>
<dd><ul class="first last simple">
<li>a single-channel, that will be applied to all channels of source;</li>
<li>exactly the same amount of frames as ‘source’;</li>
<li>weights must be positive (anything lower than 0 will be rejected).</li>
</ul>
</dd>
</dl>
</div>

          
        </description><attributelist><attribute name="default" get="1" set="1" type="int" size='1' value='None' /></attributelist></attribute></attributelist>
	<!--RELATED-->
	<seealsolist>
    
    <seealso name='fluid.bufloudness~' />
    <seealso name='fluid.bufpitch~' />
    <seealso name='fluid.bufmelbands~' />
    <seealso name='fluid.bufmfcc~' />
    <seealso name='fluid.bufspectralshape~' />
	</seealsolist>
</c74object>